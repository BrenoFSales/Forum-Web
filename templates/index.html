<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fórum Dazora</title>
    <link rel="stylesheet" href="../assets/styles/index.css">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- JQuery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  </head>
  <body class="font-sans">
    <section class="section d-flex align-items-center justify-content-center" id="section1">
      <div id="backgroundBox" class="border border-2 rounded">
        {% if current_user.is_authenticated %}
        <div id="btnLogin" class="d-flex flex-column align-items-end">
          <h1 class="fs-2 row">Olá, {{ current_user.username }}!</h1>
          <a href="{{ url_for('logout') }}" class="row fs-5 fst-italic text-decoration-underline btnSair">Sair</a>
        </div>
        {% else %}
        <a href="{{ url_for('signin') }}" id="btnLogin" class="bg-white btnSair font-semibold py-2 px-4 rounded">
          <i class="fa-solid fa-user"></i> Entrar
        </a>
        {% endif %}
        <h1 class="mb-5 text-center">4 Nerds</h1>
        <ul class="d-flex rounded p-1">
          {% for i in ['Games', 'Anime', 'Tecnologia', 'Livros', 'Politica', 'Ciência'] %}
              <li class="m-2 p-2 rounded fs-6"><a href="{{ url_for('subforum_index', name=i)}}">{{ i }}</a></li>
          {% endfor %}
        </ul>
      </div>
    </section>

    <section class="section newSection" id="section2">
      <h1 class="fs-2">New Section 2</h1>
    </section>

    <section class="section newSection" id="section3">
      <h1 class="fs-2">New Section 3</h1>
    </section>

    <script>
      const sections = document.querySelectorAll('.section');
      let currentSection = 0;
      let isScrolling = false; // Controla se o scroll está em andamento

      window.addEventListener('wheel', (event) => {
        if (isScrolling) return; // Ignora o scroll enquanto a transição está em andamento

        if (event.deltaY > 0) {
          // Scroll para baixo
          if (currentSection < sections.length - 1) {
            currentSection++;
            changeSection();
          }
        } else {
          // Scroll para cima
          if (currentSection > 0) {
            currentSection--;
            changeSection();
          }
        }

        isScrolling = true; // Marca que uma transição está em andamento
        setTimeout(() => {
          isScrolling = false; // Permite o próximo scroll após um pequeno atraso
        }, 500); // Ajuste o tempo conforme necessário (em milissegundos)
      });

      function changeSection() {
        const viewportHeight = window.innerHeight;
        sections.forEach((section, index) => {
          section.style.transform = `translateY(-${currentSection * viewportHeight}px)`;
        });
      }
    </script>
  </body>
</html>